# ❔ 질문
Delegate 패턴을 활용하는 경우를 예를 들어 설명하시오.<br />
Singleton 패턴을 활용하는 경우를 예를 들어 설명하시오.<br />
Protocol Oriented Programming과 Object Oriented Programming의 차이점을 설명하시오.<br />
의존성 주입에 대하여 설명하시오.<br />

# ✏️ 작성자
- [토니, 릴리](#토니-릴리)
- [아리, 앨리, 나무](#아리-앨리-나무)
<br />

---

# 토니, 릴리
## 디자인 패턴은 무엇인가요? 
디자인 패턴이란 기존 환경 내에서 반복적으로 일어하는 문제들을 어떻게 풀어나갈 것인가에 대한 일종의 솔루션
설계자들이 올바른 설계를 빨리 만들수 있도록 도와줌. 생성, 구조, 행동 패턴으로 구분하는 경우도 있음.
<br />
<br />

## Delegate 패턴을 활용하는 경우를 예를 들어 설명하시오.
한 객체가 다른 객체를 참조하고 있을 때, 참조당하고 있는 객체가 참조하는 객체에게 데이터를 전달하거나,  어떠한 메서드를 호출시키고 싶을 때 사용할 수 있습니다.

많이 쓰이는 곳은 tableview.delegate = self → UITableViewDelgate에 정의된 여러 메서드들을 self(VC)에서 사용하겠단 뜻.
방법: 특정 기능을 할 함수를 protocol안에 선언. 그 protocol을 변수로 선언. extension으로 vc에서 프로토콜 채택. 프로토콜변수에 self로 대리자 위임. self인 뷰컨에서 관련 업무를 수행하도록 구현해주면 됨
뷰컨간 데이터전송도 가능.

### Delegate패턴이 뭐야?

하나의 객체가 모든일을 처리하는게 아니라 처리하는 부분만 떼어내서 따로 객체로 만들어주고 그걸 위임하는 방법.

### delegate패턴을 활용하는 경우 예를 들어 설명해봐라

예를 들어 테이블뷰를 사용한다고 할 때, 뷰는 모델을 참조하고 있으므로 셀의 데이터를 공급할 때 모델에게 데이터를 받아서 사용할 수 있습니다. 역으로, 현재 보여지고 있는 뷰의 데이터가 모델의 변화에 의해 수정되어야할 때는 모델이 뷰에게 뷰를 업데이트하라고 시켜야합니다. 이러한 경우 모델의 델리게이트로 뷰컨트롤러를 채택하여 모델의 업데이트에 따른 뷰의 업데이트를 호출할 수 있습니다.

일반적으로 쉽게 볼 수있는 곳은 테이블뷰이다. 테이블뷰에서 다음과 같은 코드로 연결할 수 있는데, tableview.delegate = self 이 뜻은  UITableViewDelgate에 정의된 여러 메서드들을 self(VC)에서 사용하겠단 뜻이다.

### delegate 왜 써?

어떤 객체가 실행할 수 없는 일을 다른 객체에게 위임시키기 위해서

### 어떠한 프로젝트, 무슨상황에서 써본건지

자식뷰의 데이터를 부모뷰에서 사용하고 싶었을때 사용했습니다. 실제로 메모장프로젝트에서 tableview(부모뷰) <- view(자식뷰) 의존성 역전을 피하고, 자식의 제목데이터를 테이블뷰에 띄우기 위해서 사용.

### 사용할때 유의해야할점

델리게이트를 통해 두 객체가 서로 참조하기 때문에 메모리 누수가 발생할 수 있습니다. 강한 순환 참조를 방지하기 위해 `weak`로 참조해야합니다.

### 패턴의 장,단점

- 장점: 할 수 없는 일을 할 수 있다. 프로토콜로 정의를 하기 때문에 재사용성 좋음.
- 단점: 많은 줄의 코드가 필요하다. delegate 설정에 nil이 들어가지 않게 주의해야함. 크래시를 일으킬 수 있음. 1대 다의 관계에서 비효율적이다.

## Singleton 패턴을 활용하는 경우를 예를 들어 설명하시오.

싱글톤 패턴은 앱 전반에서 공유되는 자원이나 서비스를 제공하는 객체를 생성할 때 사용할 수 있습니다. 예를 들어 iOS에서 NotificationCenter.default는 싱글톤 객체를 제공함으로서 앱 전반에 노티피케이션을 보낼 수 있습니다. 다크모드/라이트 모드 전환, 로그인/로그아웃 상태 변경과 같이 앱 전반에서 변화에 따른 대응을 시키도록 할 때 유용하게 사용할 수 있습니다.

### 싱글턴 패턴이 뭐야?

특정 용도로 객체를 하나만 생성하여, 공용으로 사용하고 싶을때 사용하는 디자인 유형. 클래스에 대한 해당 인스턴스를 최초 생성될대 딱 한번만 생성해서 전역에 두고, 이 생성된 인스턴스로만 접근이 가능하도록 하는.

### 싱글턴 패턴 어떻게 만들어?

class에 static을 이용하여 instance를 저장할 프로퍼티를 하나 생성. init을 호출하여 instance를 또 생성하는 것을 막기 위해, init()에 접근제어자 private. 인스턴스 생성 후 static 프로퍼티 이용

### 장,단점?

**장점**
- 한번의 인스턴스만 생성하므로 메모리 낭비방지
- 전역 인스턴스이기때문에 다른클래스와 자원공유가 쉬움

**단점**

- 인스턴스가 너무 많은 일을 하거나, 많은 데이터를 공유시킬경우 다른 클래스와의 결합도가 높아짐. 개방=폐쇄 원칙 위배. 수정과 테스트 어려워짐
- 전역에서 접근하기 때문에 **변화의 추적이 어렵다**
- 싱글톤 인스턴스가 너무 많은 일을 하거나, 많은 데이터를 공유할 경우 다른 클래스간 결합도가 높아져 **개방-폐쇄 원칙을 위배**한다. 계방 폐쇄 원칙은 기존 코드를 변경하지 않으면서(Close) 기능을 추가(Open)할 수 있도록 설계가 되어야 한다는 원칙입니다.
- 멀티스레드에서 **레이스 컨디션** 발생 위험이 있다.
- 테스트가 어렵다(?)
- 전역에서 호출되기 때문에, 상태변화의 순서를 파악하고 있어야 안전한 테스트가 가능하다.
- mock객체로 만들기 어렵다

### 싱글턴은 스레드 세이프한가?

- 싱글턴은 생성에 한해 스레드 세이프. static을 사용해 타입프로퍼티로 인스턴스를 생성하면 사용시점에 초기화(lazy) 되기때문에 싱글턴 인스턴스가 최초 생성되기전까지는 메모리에 올라가지않움. 따라서 별 코드 없이도 instance가 여러개 생성되지않는 스레드 세이프한 방법이 되는거.

### 싱글턴을 사용해본 경험이 있는가?

- URLSession, Notification.

### URLSession은 왜 싱글턴으로 사용하는가?

- 왜일까?
- 추측: 네트워크 통신을 간편히 할 수 있도록 만들어둔 객체이므로 어디서든 접근하여 사용할 수 있어야하고, 통신은 아무래도 자주 쓰이다 보니 생성에 쓰이는 비용을 줄여보려 싱글턴을 사용하게 되었지 않나 싶네요!

### iOS에서 싱글톤이 사용되는 곳은?

  ![https://i.imgur.com/5dY87Fr.png](https://i.imgur.com/5dY87Fr.png)
<br />
<br />

## Protocol Oriented Programming과 Object Oriented Programming의 차이점을 설명하시오.
### 1) 프로토콜지향 프로그래밍(Protocol Oriented Programming)

- 프로토콜 중심의 프로그래밍으로서 확장을 통한 수평 구조로 타입을 확장하는 방식으로 다형성을 구현.
- 프로토콜에 정의된 인터페이스를 직접 구현하기 때문에 필요치 않은 프로퍼티나 메서드를 구현하지 않을 수 있다.
- 각각의 사이가 독립적이고 참조나 값 타입 모두를 지원해주며, 합성을 통해 다수의 프로토콜을 가질 수 있다.

### 2) 객체지향 프로그래밍(Object Oriented Programming)

- 객체 중심 프로그래밍으로서 슈퍼클래스의 상속을 통하여 수직 구조로 타입을 확장하는 방식으로 다형성 구현.
- 객체 지향적으로 아래에서부터 위로 접근하는 상향식 접근 구조이다.
- 프로그램은 '객체'라는 단위로 분할되며, 'public / private / protected'와 같은 액세스 지정자가 존재한다.
- 함수나 생성자, 연산자를 오버로드할 수 있으며, 상속이 제공된다.
- 데이터는 공개나 비공개, 보호와 같은 모드를 통해서 숨길 수 있어 데이터 보안이 좋습니다.

### 3) OOP보다 POP가 쪼~금 더 편리한 부분

- 기존 OOP의 슈퍼클래스와 서브클래스의 의존적인 관계와 달리, 프로토콜에 정의된 인터페이스만 구현하면 되고 이를 따르는 사이들끼리도 깊게 연관되어 있지 않아 서로 독립적이며 안전하다.(해당 프로토콜을 채택했다는 점만 공통 요소)
- 상속과 달리 다수의 프로토콜을 따를 수 있고, 물려받는 개념이 아니므로 다중 상속 시의 문제점(죽음의 다이아몬드 이슈)에서 자유롭다.

[https://velog.io/@wnsxor1993/POP와-OOP의-차이는](https://velog.io/@wnsxor1993/POP%EC%99%80-OOP%EC%9D%98-%EC%B0%A8%EC%9D%B4%EB%8A%94)

### POP를 사용해본 경험이 있으신가요?

### OOP를 사용해본 경험이 있으신가요?

## 의존성 주입에 대하여 설명하시오.

한 객체가 구체 객체에게 의존하도록하는 것이 아닌 프로토콜에 의존하도록 하는 방법입니다. 의존성 주입을 사용하지 않으면 한 객체가 구체 객체의 구현에 의존하게되고, 결합도가 높아지게됩니다. 의존성 주입을 활용하면 객체간의 결합도를 낮추고, 유연하고 재사용성이 좋은 코드를 작성할 수 있습니다.

- A라는 객체의 속성을 A가 아닌 다른객체가 초기화 해주는 것.

### 사용해본 경험

### 장,단점

- 장점
    - 객체간 결합을 느슨하게 만들 수 있음.
    - 새기능 개발 용이. 기존기능 수정 수월.
    - 모듈별 독립적 재사용 가능. 테스트 용이
- 단점
    - 코드가 복잡해짐.

<br />
<br />
<br />

---

# 아리, 앨리, 나무
## Delegate 패턴을 활용하는 경우를 예를 들어 설명하시오. 
- 어떤 객체에서 일어나는 이벤트나 데이터에 관한 코드를 다른 객체가 대신 해야할 때 주로 활용하게 되는데요.
- 대표적으로 테이블뷰 델리게이트가 있습니다.
- 뷰 컨트롤러에 델리게이트 함수를 작성한 후, 테이블뷰의 동작이 일어나면 작성했던 델리게이트 함수를 호출하게 되면서 뷰 컨트롤러가 대신 처리해주게 됩니다.

### [꼬리질문] Delegate 패턴을 사용할 때 유의해야할 점은 무엇이 있나요?

- Delegate 프로퍼티 변수를 약한 참조를 사용하지 않는다면 강한 순환 참조가 생겨 메모리 누수가 발생할 수 있습니다.

### [꼬리질문] 노티피케이션과 델리게이트의 차이점에 대해서 설명해주세요.

- 노티피케이션은 델리게이트와 다르게 post 이후 정보를 받을 수 없습니다.
- 델리게이트는 많은 객체들에게 이벤트를 알려주는 것이 가능은 하지만 어렵고, 비효율적입니다.
- 따라서 델리게이트는 1:1 관계에 적합하고, 1:N 관계라면 노티피케이션이 적합합니다.
<br />
<br />

## Singleton 패턴을 활용하는 경우를 예를 들어 설명하시오.
- 특정 용도로 객체를 하나 생성해서 공용으로 사용하고 싶을 때 사용하는 방법입니다.
- 즉 인스턴스가 하나만 존재하는 것을 보증하고 싶을 경우 사용하게 되는데, 주로 환경설정, 네트워크 객체, 로그인 정보 등을 특정 용도로 생성해둔 객체에 넣어두고 필요할 때마다 여러 객체에서 접근가능하도록 하여 데이터를 사용합니다.
- 메모리 낭비를 방지할 수 있고, 데이터를 공유할 수 있다는 대표적인 장점이 있습니다.

### [꼬리질문] 싱글톤을 사용할 때 주의해야할 점은 무엇일까요?

- 프로그램이 종료될 때까지 메모리가 할당되어 있기 때문에 해제해주지 않는 이상 메모리에 유지됩니다.
    - 또 Thread-safe하게 만들어 멀티스레드에서 사용하더라도 문제가 없어야 합니다.

### [꼬리질문] 싱글톤을 보통 언제 사용하나요?

- 유저디폴트, 파일매니저, 노티피케이션센터 등에서 주로 사용되며, 유저 정보나 환경설정을 저장할 때 사용합니다.
<br />
<br />

## Protocol Oriented Programming과 Object Oriented Programming의 차이점을 설명하시오.
- POP는 프로토콜 확장을 통하여 수평구조로 타입을 확장할 수 있습니다.
- OOP는 슈퍼클래스의 상속을 통하여 수직 구조로 타입을 확장하는 방식으로 다형성을 구현합니다.
- 상속은 클래스에서만 가능하고, 다중상속이 불가능하지만 프로토콜 지향 프로그래밍에서는 다중상속이 불가능하다는 단점을 극복할 수 있습니다.
- 또한 프로토콜은 클래스 외에 구조체나 열거형에도 채택을 해줄 수 있습니다.
- 그리고 프로토콜에 확장을 구현하면 기본 구현을 제공합니다.
- 하지만 타입에서 다시 재정의 해준다면 타입에서의 구현이 높은 우선 순위를 가집니다.

### [꼬리질문] 어떤 상황에서 사용해 봤는지?

- 예시) UIKit이 subclassing을 통해 수직적으로 계층화되어있기 때문에 커스텀 뷰를 만들거나 반복 사용되는 뷰를 모듈화할 때 주로 OOP를 활용했습니다. 그 외의 상황에서는 주로 POP를 활용했는데, 네트워크 계층에서 Request 타입들을 구현할 때 프로토콜과 프로토콜 기본 구현을 활용하여 API 요청을 추상화한 경험이 있습니다. 프로토콜의 Associated type을 활용하여 각 Request에 대한 Response 타입을 지정할 수 있는 등, POP의 장점을 알 수 있었습니다.
<br />
<br />

## 의존성 주입에 대하여 설명하시오.
- 내부가 아닌 외부에서 객체를 생성해주는 것을 주입해준다고 표현하는데요.
- 중요한 것은 솔리드 원칙 중 하나인 '의존 관계 역전 법칙'으로 의존관계를 분리시켜주는 것이 특징입니다.
- 즉, 상위모듈과 하위모듈이 서로를 의존하는 것이 아닌 추상화된 프로토콜을 의존하고 있어 의존관계를 독립시킨 형태를 말합니다.
- 이렇게 의존의 방향이 역전되어 제어가 반전되는 상황을 제어의 반전이라고 표현합니다.

### [꼬리질문] 의존성 주입을 왜 사용할까요?

- 객체간의 결합도를 낮추기 위함입니다.
- 객체 간의 결합도가 낮으면 리팩토링이 쉽고 테스트 코드 작성도 쉬워진다는 장점이 있습니다.
- 또한 코드 재사용도 용이해집니다. 공통적인 로직은 한번만 구현하고 필요한 정보 혹은 기능만 끼워 넣어서 커스터마이징이 가능하기 때문에 여러곳에서 재사용이 가능해집니다.

### [꼬리질문] 의존성 주입하는 방법에 대해서 구체적으로 설명해주세요.

### [꼬리질문] 의존성 주입을 사용하므로써 SOLID 원칙에 적용되는 개념이 무엇무엇이 있나요?
<br />
<br />
<br />

## Q1. Delegate 패턴을 활용하는 경우를 예를 들어 설명하시오.
어떤 객체가 해야할 일을 대신 해줄 때 사용한다.

이렇게 어떠한 업무가 끝났을 때 그 data를 처리해주는 패턴으로는 Delegate, Notification, KVO(Key-Value Observing)등 이 있다.

위임받는 대리자(주로 사용자가 만든 컨트롤러 객체)가, 위임 받으려는 프로토콜을 채택하는 방식으로 위임의 과정이 이루어진다.

### 꼬리질문 1. Delegate 패턴의 장단점?
|구분|내용|
|------|---|
|장점|- 프로토콜에 필요한 메서드가 명확하게 명시되어있다.</br> - 로직의 흐름을 따라가기 쉽다.</br>- 제 3의 객체 (ex. notificationCenter)가 필요없다.|
|단점|- 많은 줄의 코드가 필요하다. </br> - delegate에 nil이 할당되지 않도록 주의해야한다. </br> - 1대다의 이벤트가 비효율적이고 어렵다.|

<br />
<br />

## Q2. Singleton 패턴을 활용하는 경우를 예를 들어 설명하시오.
싱글턴 패턴은 주로 앱 전체에 걸쳐서 유일한 객체를 만들기 위해서 사용한다. 싱글턴은 특정 클래스의 인스턴스가 오직 하나임을 보장하는 객체이다. (어디에서나, **전역적으로 접근할 수 있는 유일한 객체**)

여러 개의 객체가 같은 객체로부터 동일한 상태의 정보를 받아와야할 때 사용할 수 있다. 예를 들면 사용자의 어떤 정보나 앱 전반에 걸쳐서 공유되어야 하는 데이터들이 있을 때 사용한다.

ex) `UserDefaults` , `NotificationCenter`, `URLSession` 등등..

### 꼬리질문 1. 싱글턴 만드는 법?

1. 유일한 객체가 될 프로퍼티를 static으로 정의한 후, 자기 자신을 할당해준다.
2. 초기화 메서드의 접근 제한을 설정하여 외부에서는 초기화가 불가능하도록 설정한다.

```swift
class Singleton {
    // 1
    static let defaults = Singleton()
    // 2
    private init() { }
}

```

### 꼬리질문 2. 구조체와 싱글턴?

싱글턴 패턴은 주로 클래스로 구현한다. 그렇다고해서 구조체로는 구현할 수 없는 것은 아니다.

일반적으로 클래스로 싱글턴을 구현하는 이유는 싱글턴 패턴의 목적인 `**유일한 객체**`를 사용하기 위해서다. 구조체로 싱글턴을 구현한다면, 싱글턴 객체를 인스턴스화 할 때 유일하지 못한 객체가 된다. (서로 다른 주소값을 가지게 되기 때문에)

### 꼬리질문 3. 싱글턴 패턴의 장단점?
|구분|내용|
|------|---|
|장점|- 유일한 객체를 만들어서 다양한 객체들에게 공유되는 객체를 만들 수 있다. </br> - 재사용이 가능하여 메모리 낭비를 방지할 수 있다.|
|단점|- 객체지향 관점에서, 인스턴스들 간에 결합도가 높아져서 OCP(개방폐쇄원칙)을 위배하게 된다.|

- (OCP는 모듈의 확장에는 열려있어야 하고, 변경에는 닫혀있어야 한다는 객체지향설계의 원칙 중 하나) |
<br />
<br />

##  Q3. Protocol Oriented Programming과 Object Oriented Programming의 차이점을 설명하시오.
### 1) 프로토콜지향 프로그래밍(Protocol Oriented Programming)

- 프로토콜 중심의 프로그래밍으로서 확장을 통한 수평 구조로 타입을 확장하는 방식으로 다형성을 구현.
- 프로토콜에 정의된 인터페이스를 직접 구현하기 때문에 필요치 않은 프로퍼티나 메서드를 구현하지 않을 수 있다.
- 각각의 사이가 독립적이고 참조나 값 타입 모두를 지원해주며, 합성을 통해 다수의 프로토콜을 가질 수 있다.

### 2) 객체지향 프로그래밍(Object Oriented Programming)

- 객체 중심 프로그래밍으로서 슈퍼클래스의 상속을 통하여 수직 구조로 타입을 확장하는 방식으로 다형성 구현.
- 객체 지향적으로 아래에서부터 위로 접근하는 상향식 접근 구조이다.
- 프로그램은 '객체'라는 단위로 분할되며, 'public / private / protected'와 같은 액세스 지정자가 존재한다.
- 함수나 생성자, 연산자를 오버로드할 수 있으며, 상속이 제공된다.
- 데이터는 공개나 비공개, 보호와 같은 모드를 통해서 숨길 수 있어 데이터 보안이 좋습니다.

### 꼬리질문 1. 어떤 상황에서 사용해 봤는지?
<br />
<br />

## Q4. 의존성 주입에 대하여 설명하시오.
외부에서 두 객체 간의 관계를 결정해주는 디자인 패턴으로 특정 객체가 필요로하는 것들을 내부적으로 생성하게 두지 않고, 외부에서 제공해주는 것이다.

### 꼬리질문 1. 의존성 주입 방법?

- 생성자 주입
- 인터페이스

### 꼬리질문 2. 의존성 주입과 SOLID 원칙?

- 의존성 역전 원칙
- 인터페이스 분리 원칙
<br />
<br />
<br />
